{% extends 'base.html.twig' %}

{% block title %}{% endblock %}
{% block stylesheets %}
<style>
    .only-coach {
        display: none;
    }

    .only-view {
        display: none;
    }
</style>
{% endblock %}



{% block body %}
<section class="container mt-5 mb-5">
    <h1 class="text-center "><span class="p-2 rounded " id="titre">Mise à jour</span></h1>
    {{ form_start(form) }}

    {{ form_row(form.firstName, {'label': 'Prénom','attr': {'placeholder': 'Entrez votre prénom'}}) }}

    {{ form_row(form.lastName, {'label': 'Nom','attr': {'placeholder': 'Entrez votre nom'}}) }}

    {{ form_row(form.age, {'label': 'Age','attr': {'placeholder': 'Entrez votre age'}}) }}

    {{ form_row(form.email, {'label': 'Email','attr': {'placeholder': 'Entrez votre email'}}) }}

    {{ form_row(form.password, {'label': 'Mot de passe','attr': {'placeholder': 'Entrez votre mot de passe'}}) }}

    {{ form_row(form.confirm_password, {'label': 'Confirmation mot de passe','attr': {'placeholder': 'Entrez votre mot de passe'}})
    }}

    {{ form_row(form.roles) }}


    <div class="coach only-view only-coach" id="1" {% if "ROLE_COACH" in app.user.getRoles(true) %}
        style="display:block" {% endif %}>
        {{ form_row(form.city, {'label': 'Ville','attr': {'placeholder': 'Entrez votre ville'}}) }}

        {{ form_row(form.sport, {'label': 'Spécialité','attr': {'placeholder': 'Entrez votre spécialité'}}) }}

        {{ form_row(form.description, {'label': 'Description','attr': {'placeholder': 'Entrez votre description'}}) }}

        {{ form_row(form.education, {'label': 'Formation','attr': {'placeholder': 'Entrez votre formation'}}) }}

        {{ form_row(form.experience, {'label': 'Expérience','attr': {'placeholder': 'Entrez votre expérience'}}) }}

        {{ form_row(form.tarif, {'label': 'Tarif','attr': {'placeholder': 'Entrez votre tarif'}}) }}

        {{ form_row(form.picture, {'label': 'Photo de profil','attr': {'accept': 'image/*'}}) }}
    </div>


    <button type="submit"
        class="btn btn-outline-light text-white bg-dark m-auto rounded-pill bg-light text-dark mt-5">S'enregistrer</button>
    <button type="submit"
        class="btn btn-outline-light text-white bg-danger m-auto rounded-pill text-dark mt-5">Supprimer le profil</a>
        {{ form_end(form) }}
</section>
{% endblock %}


{% block javascripts %}
<script>
    let selectRole = document.querySelector('#registration_roles');

    selectRole.addEventListener('change', function (event) {
        console.log('Le role choisi est : ' + event.target.value);
        if (event.target.value == 'ROLE_USER') {
            document.getElementById('1').style.display = "none";
        } else {
            (event.target.value == 'ROLE_COACH')
            document.getElementById('1').style.display = "block";
        }
    })
</script>
{% endblock %}